<button class="btn btn-primary" (click)="Open()">เพิ่มข้อมูล</button>
<clr-datagrid>
    <clr-dg-column [clrDgField]="'first_name'">FName</clr-dg-column>
    <clr-dg-column [clrDgField]="'last_name'">LName</clr-dg-column>
    <clr-dg-column [clrDgField]="'sex'">Sex</clr-dg-column>
    <clr-dg-column [clrDgField]="'bdate'">Birthday</clr-dg-column>
    <clr-dg-column [clrDgField]="'email'">EMail</clr-dg-column>
    <clr-dg-column [clrDgField]="'telephone'">Telephone</clr-dg-column>
    <clr-dg-row *clrDgItems="let x of allpersons">
        <clr-dg-action-overflow>
            <button class="btn btn-primary" (click)="editData(x)">แก้ไขข้อมูล</button>
            <button class="btn btn-success" (click)="delete(x)">ลบข้อมูล</button>
        </clr-dg-action-overflow>
        <clr-dg-cell>{{x.first_name}}</clr-dg-cell>
        <clr-dg-cell>{{x.last_name}}</clr-dg-cell>
        <clr-dg-cell>{{x.sex}}</clr-dg-cell>
        <clr-dg-cell>{{x.bdate | date:'yyyy-MM-dd'}}</clr-dg-cell>
        <clr-dg-cell>{{x.email}}</clr-dg-cell>
        <clr-dg-cell>{{x.telephone}}</clr-dg-cell>
    </clr-dg-row>
    <clr-dg-footer>
        {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}} of {{pagination.totalItems}} คน
        <clr-dg-pagination #pagination [clrDgPageSize]="10"></clr-dg-pagination>
    </clr-dg-footer>
</clr-datagrid>

<clr-modal [(clrModalOpen)]="open" [clrModalSize]="'lg'" [clrModalClosable]="false">
    <h3 class="modal-title">ข้อมูลบุคลาการ</h3>
    <div class="modal-body">
        <form>
            <section class="form-block">
                <label>
                    <span> ข้อมูลทั่งไป</span>
                </label>
                <div class="form-group">
                    <label for="idcard">IDCARD</label>
                    <input type="text" [(ngModel)]="idcard" name="idcard" id="idcard" placeholder="0000000000000" size="45">
                </div>
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" [(ngModel)]="title" name="title" id="title" placeholder="นาย" size="10">
                </div>
                <div class="form-group">
                    <label for="first_name">First name</label>
                    <input type="text" [(ngModel)]="first_name" name="first_name" id="first_name" placeholder="ธวัชชัย" size="20">
                </div>
                <div class="form-group">
                    <label for="last_name">Last name</label>
                    <input type="text" [(ngModel)]="last_name" name="last_name" id="last_name" placeholder="แสงเดือน" size="20">
                </div>
                <div class="form-group">
                    <label for="title_en">Title_en</label>
                    <input type="text" [(ngModel)]="title_en" name="title_en" id="title_en" placeholder="MR." size="10">
                </div>
                <div class="form-group">
                    <label for="fname_en">First name en</label>
                    <input type="text" [(ngModel)]="fname_en" name="fname_en" id="fname_en" placeholder="Thwatchai " size="20">
                </div>
                <div class="form-group">
                    <label for="lname_en">Last name en</label>
                    <input type="text" [(ngModel)]="lname_en" name="lname_en" id="lname_en" placeholder="Saengduan" size="20">
                </div>
                <div class="form-group">
                    <label for="sex">Sex</label>
                    <div class="select">
                        <select [(ngModel)]="sex" name="sex" id="sex">
                            <option *ngFor="let g of allgenders" [value]="g.id_gender">{{g.name_genser}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="addr">Address</label>
                    <input type="text" [(ngModel)]="addr" name="addr" id="addr" size="45">
                </div>
                <div class="form-group">
                    <label for="email">E-Mail</label>
                    <input type="text" [(ngModel)]="email" name="email" id="email" placeholder="model@tshpt.mail.go.th" size="35">
                </div>
                <div class="form-group">
                    <label for="telephone">Telephone</label>
                    <input type="text" [(ngModel)]="telephone" name="telephone" id="telephone" placeholder="0810000000" size="35">
                </div>
                <div class="form-group">
                    <label for="bdate">Birthday</label>
                    <input type="date" [(ngModel)]="bdate" name="bdate" id="bdate" size="20">
                </div>
                <div class="form-group">
                    <label for="workdate">Workday</label>
                    <input type="date" [(ngModel)]="workdate" name="workdate" id="workdate" size="20">
                </div>
                <div class="form-group">
                    <label for="depart">Depart</label>
                    <div class="select">
                        <select [(ngModel)]="depart" name="depart" id="depart">
                            <option *ngFor="let d of alldeparts" [value]="d.code_depart">{{d.name_depart}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="typetext">Depart Group</label>
                    <div class="select">
                        <select [(ngModel)]="typetext" name="typetext" id="typetext">
                            <option [value]="'ข้าราชการ'">ข้าราชการ</option>
                            <option [value]="'ลูกจ้างประจำ'">ลูกจ้างประจำ</option>
                            <option [value]="'พนักงานราชการ'">พนักงานราชการ</option>
                            <option [value]="'พนักงานกระทรวงสาธารณสุข'">พนักงานกระทรวงสาธารณสุข</option>
                            <option [value]="'ลูกจ้างชั่วคราว'">ลูกจ้างชั่วคราว</option>
                            <option [value]="'ลูกจ้างรายวัน'">ลูกจ้างรายวัน</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="position">Position</label>
                    <div class="select">
                        <select [(ngModel)]="position" name="position" id="position">
                            <option *ngFor="let p of allpositions" [value]="p.id_pos">{{p.pos_name}}</option>
                        </select>
                    </div>
                </div>
            </section>
        </form>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="open = false">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="save()">Ok</button>
    </div>
</clr-modal>
